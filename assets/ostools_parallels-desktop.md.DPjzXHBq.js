import{_ as s,c as a,o as i,a8 as e}from"./chunks/framework.B7_706rU.js";const g=JSON.parse('{"title":"Parallels Desktop","description":"","frontmatter":{},"headers":[],"relativePath":"ostools/parallels-desktop.md","filePath":"ostools/parallels-desktop.md","lastUpdated":1714829957000}'),p={name:"ostools/parallels-desktop.md"},l=e('<h1 id="parallels-desktop" tabindex="-1">Parallels Desktop <a class="header-anchor" href="#parallels-desktop" aria-label="Permalink to &quot;Parallels Desktop&quot;">​</a></h1><h2 id="_1-软件安装" tabindex="-1">1. 软件安装 <a class="header-anchor" href="#_1-软件安装" aria-label="Permalink to &quot;1. 软件安装&quot;">​</a></h2><p>根据OS系统版本，选择适合的PD版本下载</p><p>可以到App Store下载安装</p><div class="tip custom-block"><p class="custom-block-title">版本说明</p><p>该文档对应<code>macOS Monterey12.2 Intel</code>，对应PD版本为<code>18.3.2</code></p></div><h2 id="_2-常用镜像网站" tabindex="-1">2. 常用镜像网站 <a class="header-anchor" href="#_2-常用镜像网站" aria-label="Permalink to &quot;2. 常用镜像网站&quot;">​</a></h2><p>中科大 <a href="https://mirrors.ustc.edu.cn/" target="_blank" rel="noreferrer">https://mirrors.ustc.edu.cn/</a></p><p>清华 <a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noreferrer">https://mirrors.tuna.tsinghua.edu.cn/</a></p><p>网易 <a href="https://mirrors.163.com/" target="_blank" rel="noreferrer">https://mirrors.163.com/</a></p><p>阿里 <a href="https://mirrors.aliyun.com/" target="_blank" rel="noreferrer">https://mirrors.aliyun.com/</a></p><p>搜狐 <a href="https://mirrors.sohu.com/" target="_blank" rel="noreferrer">https://mirrors.sohu.com/</a></p><p>浙大 <a href="https://mirrors.zju.edu.cn/" target="_blank" rel="noreferrer">https://mirrors.zju.edu.cn/</a></p><p>华为 <a href="https://mirrors.huaweicloud.com/" target="_blank" rel="noreferrer">https://mirrors.huaweicloud.com/</a></p><h2 id="_3-centos7安装" tabindex="-1">3. centos7安装 <a class="header-anchor" href="#_3-centos7安装" aria-label="Permalink to &quot;3. centos7安装&quot;">​</a></h2><h3 id="_3-1-使用镜像地址下载最小可以用版本" tabindex="-1">3.1. 使用镜像地址下载最小可以用版本 <a class="header-anchor" href="#_3-1-使用镜像地址下载最小可以用版本" aria-label="Permalink to &quot;3.1. 使用镜像地址下载最小可以用版本&quot;">​</a></h3><p>中科大镜像下载地址举例：</p><p><a href="https://mirrors.ustc.edu.cn/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso" target="_blank" rel="noreferrer">https://mirrors.ustc.edu.cn/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso</a></p><p>其中，DVD版本和Mnimal版本，分别代表完整版和最小版，一般安装最小版。</p><h3 id="_3-2-虚拟机安装配置" tabindex="-1">3.2. 虚拟机安装配置 <a class="header-anchor" href="#_3-2-虚拟机安装配置" aria-label="Permalink to &quot;3.2. 虚拟机安装配置&quot;">​</a></h3><p>（1）控制中心主界面： 添加虚拟机，通过镜像文件安装，点继续</p><p>（2）镜像文件选择界面： 选择镜像文件，点继续</p><p>（3）输入账号界面： 取消快速安装，填入linux用户名和密码，点继续</p><p>（4）安装前预设界面： 修改虚拟机名称/安装地址，勾选“在Mac桌面上创建别名”，勾选“安装前预设”，点继续【必选安装前预设，才能进入虚拟机配置，详见下一步】</p><p>（5）虚拟机配置界面： 根据自身情况，配置各种参数。</p><div class="tip custom-block"><p class="custom-block-title">必做操作</p><p>硬件-&gt;图形-&gt;高级-&gt;取消3D加速-&gt;OK【如果不取消3D加速，进入安装过程中，会卡死在黑色代码页面】</p><p>安全性-&gt;开启密码【如果没有设置密码，安装开始前会提示“要执行此操作,您必须输入主机操作系统管理员的凭据”，接下来找不到镜像文件】</p></div><p>（6）虚拟机配置完界面： 检查好上一步后，点继续</p><p>（7）安装选择界面： 选择Install CentOS 7，回车</p><p>（8）自动运行程序界面： 需要回车时，回车即可，直到进入语言选择画面</p><p>（9）语言选择界面： 选择中文，点继续</p><p>（10）安装信息摘要界面： 进入“软件选择”，配置最小化安装，点完成</p><p>（11）安装信息摘要界面： 进入“网络和主机名”，打开以太网，编辑主机名，点完成</p><p>（12）安装信息摘要界面： 进入“安装位置”，选择自动分区，点完成</p><p>（13）安装信息摘要界面： 点开始安装</p><p>（14）用户配置界面： 设置ROOT密码</p><h3 id="_3-3-parallels-tools安装" tabindex="-1">3.3. <code>Parallels Tools</code>安装 <a class="header-anchor" href="#_3-3-parallels-tools安装" aria-label="Permalink to &quot;3.3. `Parallels Tools`安装&quot;">​</a></h3><p>系统安装完成后，登录root用户</p><p>（1）检查是否已经挂载Parallels Tools CD镜像，输入：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iso9660</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>没有返回值或返回之中没有noexec，直接进入到第3步，</p><p>否则进入到第2步先卸载</p><p>（2）卸载镜像，输入：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/cdrom</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>（3）挂载Parallels Tools安装光盘镜像，输入：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/cdrom</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /media/cdrom</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">注意</p><p>/dev/cdrom 是虚拟机的CD/DVD驱动器而/media/cdrom是该设备的挂载点。在某些Linux操作系统中，虚拟CD/DVD驱动器可能显示为/dev/hdb 而其挂载点为 /mnt/cdrom。部分 Linux 操作系统没有CD/DVD驱动器挂载点。在此情况下，应手动创建挂载点目录。</p></div><p>（4）挂载完成后，进入到挂载目录，输入：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /media/cdrom</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>（5）使用root用户，进行程序安装：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>（6）安装完成后，重启虚拟机</p><h3 id="_3-4-关机及防火墙" tabindex="-1">3.4. 关机及防火墙 <a class="header-anchor" href="#_3-4-关机及防火墙" aria-label="Permalink to &quot;3.4. 关机及防火墙&quot;">​</a></h3><p>为了方便，记住立即关机命令：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> now</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>为了不需要配置端口，直接关闭防火墙：</p><p>（1）停止防火墙服务：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewalld</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>（2）禁止防火墙开机自启动：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewalld</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-5-mac客户端连接" tabindex="-1">3.5. mac客户端连接 <a class="header-anchor" href="#_3-5-mac客户端连接" aria-label="Permalink to &quot;3.5. mac客户端连接&quot;">​</a></h3><p>（1）设置客户端连接服务器的心跳为60s，防止连接丢失</p><p>输入编辑ssh文件命令：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/ssh_config</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">在文件末尾添加</p><p>ServerAliveInterval 60</p><p>ServerAliveCountMax 3</p></div><p>每60s发送一个，服务器没有响应连续3次，自动断开连接</p><p>（2）客户端连接服务器命令：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@服务器ip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>（3）ftp工具下载地址：</p><p><a href="https://filezilla.net" target="_blank" rel="noreferrer">https://filezilla.net</a></p><hr><hr><h3 id="_3-6-虚拟机梯子" tabindex="-1">3.6. 虚拟机梯子 <a class="header-anchor" href="#_3-6-虚拟机梯子" aria-label="Permalink to &quot;3.6. 虚拟机梯子&quot;">​</a></h3><ul><li><strong>3.6.1. 在虚拟机内查看ip，执行命令判断网关</strong></li></ul><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>假设得到ip为<code>10.211.55.5</code></p><ul><li><strong>3.6.2. 获取mac宿主机ip地址，执行如下命令</strong></li></ul><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifconfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.211.55</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>比如宿主机ip为<code>10.211.55.2</code>（不可使用<code>127.0.0.1</code>，否则无法共享梯子）</p><ul><li><strong>3.6.3. 开启梯子局域网连接</strong></li></ul><p>在梯子的设置里，找到<code>局域网连接</code>，将其开启</p><ul><li><strong>3.6.4. 开启虚拟机梯子配置</strong></li></ul><ol><li>打开梯子软件，<strong>复制环境变量</strong>（有的叫<strong>终端代理命令</strong>）</li></ol><div class="tip custom-block"><p class="custom-block-title">修改代理ip</p><div class="language-console vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">export https_proxy=http://127.0.0.1:7897 http_proxy=http://127.0.0.1:7897 all_proxy=socks5://127.0.0.1:7897</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将上述<strong>IP</strong>改成<code>10.211.55.2</code></p><div class="language-console vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">export https_proxy=http://10.211.55.2:7897 http_proxy=http://10.211.55.2:7897 all_proxy=socks5://10.211.55.2:7897</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><ol start="2"><li>修改~/.bash_profile</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> open_proxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;export https_proxy=http://10.211.55.2:7897 http_proxy=http://10.211.55.2:7897 all_proxy=socks5://10.211.55.2:7897&#39;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> close_proxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;unset http_proxy;unset https_proxy;unset all_proxy&#39;</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_proxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;curl -v google.com&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bash_profile</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">注意</p><p>这里的端口号<code>7897</code>，取自宿主机的梯子</p></div><ol start="3"><li>如何使用</li></ol><div class="info custom-block"><p class="custom-block-title">使用</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open_proxy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>开启代理</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test_proxy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>测试代理，查看<code>google</code>内容是否获取成功，</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close_proxy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>关闭代理</p></div>',88),t=[l];function n(r,h,o,d,c,k){return i(),a("div",null,t)}const b=s(p,[["render",n]]);export{g as __pageData,b as default};
